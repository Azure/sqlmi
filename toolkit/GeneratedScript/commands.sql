
USE [master]
GRANT UNSAFE ASSEMBLY TO [<your_user>]

USE [<your_database>]

EXEC sp_configure 'clr strict security', 0
RECONFIGURE

DECLARE @bytes VARBINARY(8000) = HASHBYTES('SHA2_512', 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300157772610000000000000000E00022200B013000001800000006000000000000C2370000002000000040000000000010002000000002000004000000000000000600000000000000008000000002000000000000030060850000100000100000000010000010000000000000100000000000000000000000703700004F00000000400000A002000000000000000000000000000000000000006000000C000000383600001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000C8170000002000000018000000020000000000000000000000000000200000602E72737263000000A00200000040000000040000001A0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001E00000000000000000000000000004000004200000000000000000000000000000000A4370000000000004800000002000500C02500007810000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B300600CD0400000100001100730500000A0A140B000F00280600000A730700000A0B00DE1126000672010000706F0800000A0000DE000714280900000A2C12076F0A00000A20BB010000FE0116FE012B01160C082C0E000672370000706F0800000A00000714280900000A0D09392804000000076F0B00000A1304141305001613077E0C00000A13081104280D00000A13090011096F0E00000A130A16130B2B3A110A110B9A130C001108110C7263000070280F00000A13081107251758130716FE01130D110D2C0B00110C6F1000000A13050000110B1758130B110B110A8E6932BE06726700007011041108281100000A6F0800000A0000DE72130E00110E6F1200000A20F92A0000FE01130F110F2C17000672C70000701104281300000A6F0800000A00002B21000672070100701104110E6F1200000A8C1D000001281100000A6F0800000A000000DE2013100006726B010070110411106F1400000A281100000A6F0800000A0000DE00731500000A130600110611046F1600000A13110672CB010070110411116F1700000A8C1E000001281100000A6F0800000A0000DE2013120006720D020070110411126F1400000A281100000A6F0800000A0000DE00110514FE031313111339AE000000000018171C731800000A13141114110520BB0100006F1900000A0011146F1A00000A131511152C15000672590200701104281300000A6F0800000A000000DE6D13160011166F1200000A204D270000FE01131711172C17000672A70200701104281300000A6F0800000A00002B1C00067258030070110411166F1400000A281100000A6F0800000A000000DE20131800067258030070110411186F1400000A281100000A6F0800000A0000DE00000F02281B00000A13191119390B0200000072A80300700F00280600000A281C00000A131C121C72DC030070281D00000A038C07000001281E00000A131A111A281F00000A131B111B72FA0300706F2000000A00111B72020400706F2100000A00111B166A6F2200000A00111B6F2300000A723604007072540400706F2400000A00111B6F2300000A726804007072820400706F2400000A00111B6F2300000A7298040070281C00000A131C121C282500000A6F2400000A0000111B6F2600000A7414000001131D00111D6F2700000A282800000A2D0E111D6F2700000A282900000A2B05282A00000A131E111D6F2B00000A111E732C00000A131F00111F2D03142B07111F6F2D00000A13200672AC0400701A8D0500000125160F00280600000AA22517111D6F2E00000A8C28000001A22518111D6F2F00000AA225191120A2283000000A6F0800000A0000DE0D111F2C08111F6F3100000A00DC00DE0D111D2C08111D6F3100000A00DC00DDA90000001321007E0C00000A132211216F3200000A74140000011323112314FE03132411242C620011236F2700000A282800000A2D0E11236F2700000A282900000A2B05282A00000A132511236F2B00000A1125732C00000A13260011262D077E0C00000A2B0711266F2D00000A132200DE0D11262C0811266F3100000A00DC11236F3300000A00000672410500700F00280600000A11216F1400000A1122281E00000A6F0800000A0000DE00000000066F3400000A13272B181227283500000A132800283600000A11286F3700000A00001227283800000A2DDFDE0F1227FE160200001B6F3100000A00DC2A0000000188000000000900111A001119000001000073007DF000520E000001000073007D4201200F000001000069012E9701200F0000010000C6013F05024D0E0000010000C6013F5202200F00000102006E0353C1030D0000000002003A0397D1030D0000000002003B041853040D0000000000002B03B9E403A9170000010200980425BD040F000000002202283900000A002A00000042534A4201000100000000000C00000076342E302E33303331390000000005006C00000064030000237E0000D00300004805000023537472696E67730000000018090000D005000023555300E80E0000100000002347554944000000F80E00008001000023426C6F620000000000000002000001471502080900000000FA013300160000010000002B000000020000000200000003000000390000000400000001000000020000000100000003000000000009020100000000000600870183030600A701830306005D0151030F00A30300000600160430020A00710122030A00E001B2030A003702B2030600010040000E00050230020E00CF014B020E00F10425040E00D70325040E00D902E1030600DF0230020E00E7044B020E004104E1030E00860425040600EA0030020E00390125040600D701B70406000A0321000E00A70225042700400300000E00C60230020600EC0130020E00C70325040600B40264030600080030020E00F4034B020E00D904E1030E001101E1030E000401E1030E008A0425040E00930225040E007F026D000E003D0125040600200221000600170321000E00C30025040600DE0030020A00C30422030A00FC002203000000000E0000000000010001000100100048040000150001000100502000000000960018053D010100B4250000000086184B0306000400000001006E0400000200420200000300690209004B03010011004B03060019004B030A0031004B0306000C004B0306003900C501600051004B0364000C005B00690051000A056F0051007D0477005100A5046000D10041057B00D900FD047E00610095048400D10008048A002900EA016000D1000F049100E100A6007700D1000F0498007900D200600059004B030600590096009E008100FD03A40089004B03A90089001D04B50089005F00BB004100C501BB009900CE04BF009900EA01C400D1000F04C9001101FF02D10011019B00640011011C0164001101F301D7001101CB03DC0021012702E2009900EA01600011014901E800A10030046000D1003905EE00A900D401F300A9001700F90029011502FE00B1004B03040139018C006000A100B4000D01A100E9026000D1000F041301490155010600B9002C01E8002901550106000C003D031A011400620429015101F3002E015901960064001400AE04BB0029004B0306002000230078012E000B0047012E00130050012E001B006F0110005A0023010480000000000000000000000000000000005A040000040000000000000000000000340137000000000004000000000000000000000034012B0000000000040000000000000000000000340130020000000000000000004C697374603100496E743332003C4D6F64756C653E006765745F41534349490053797374656D2E494F0053797374656D2E44617461006D73636F726C69620053797374656D2E436F6C6C656374696F6E732E47656E6572696300416464006765745F436F6E6E65637465640053797374656D2E436F6C6C656374696F6E732E5370656369616C697A65640052656164546F456E640053656E64007365745F4D6574686F64006765745F4572726F72436F6465006765745F537461747573436F64650048747470537461747573436F6465006765745F4D6573736167650049446973706F7361626C65004461746554696D65006765745F506970650053716C506970650050726F746F636F6C5479706500536F636B657454797065007365745F436F6E74656E7454797065006765745F526573706F6E73650048747470576562526573706F6E736500476574526573706F6E736500446973706F73650044656275676761626C654174747269627574650053716C50726F63656475726541747472696275746500436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465006765745F56616C75650050696E6700476574456E636F64696E670053716C537472696E6700546F537472696E67007365745F436F6E74656E744C656E6774680055726900546F6F6C6B69742E646C6C00476574526573706F6E736553747265616D007365745F4974656D0053797374656D0053716C426F6F6C65616E00736173546F6B656E0053797374656D2E4E65742E4E6574776F726B496E666F726D6174696F6E006578656375746557726974654F7065726174696F6E004E616D6556616C7565436F6C6C656374696F6E00576562486561646572436F6C6C656374696F6E00576562457863657074696F6E0045787465726E616C457863657074696F6E00557269466F726D6174457863657074696F6E00536F636B6574457863657074696F6E006765745F5374617475734465736372697074696F6E00437265617465487474700053747265616D5265616465720054657874526561646572004D6963726F736F66742E53716C5365727665722E53657276657200476574456E756D657261746F72002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E496E7465726F7053657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E446174612E53716C547970657300446E73006765745F48656164657273004950416464726573730053797374656D2E4E65742E536F636B657473004950537461747573006765745F53746174757300436F6E63617400466F726D6174004F626A65637400436F6E6E6563740053797374656D2E4E6574006765745F43686172616374657253657400536F636B65740053716C4D616E61676564496E7374616E6365546F6F6C6B6974006765745F43757272656E740073746F726167654163636F756E74006765745F506F7274004874747057656252657175657374006765745F416464726573734C697374006765745F486F7374004D6F76654E6578740053797374656D2E546578740053716C436F6E74657874006765745F5574634E6F77004164647265737346616D696C790050696E675265706C79004950486F7374456E74727900476574486F7374456E747279006F705F496E657175616C69747900436865636B53746F726167654163636F756E744163636573736962696C6974790049734E756C6C4F72456D70747900000035550052004900200069007300200069006E0020007400680065002000770072006F006E006700200066006F0072006D0061007400002B4F006E006C007900200068007400740070007300200069007300200061006C006C006F0077006500640000033B00005F48006F00730074006E0061006D00650020007B0030007D00200077006100730020007300750063006300650073007300660075006C006C00790020007200650073006F006C00760065006400200074006F003A0020007B0031007D002E00003F48006F00730074006E0061006D00650020007B0030007D00200063006F0075006C00640020006E006F007400200062006500200066006F0075006E006400006344004E00530020007200650073006F006C007500740069006F006E0020006F00660020007B0030007D0020007400680072006F0077006E00200066006F006C006C006F00770069006E00670020006500720072006F00720020007B0031007D002E00005F44004E00530020007200650073006F006C007500740069006F006E0020006F00660020007B0030007D0020007400680072006F0077006E00200066006F006C006C006F00770069006E006700200065007800630020007B0031007D002E000041500049004E004700200074006F0020007B0030007D0020007200650070006F007200740065006400200073007400610074007500730020007B0031007D002E00004B500049004E004700200074006F0020007B0030007D0020007400680072006F0077006E00200066006F006C006C006F00770069006E006700200065007800630020007B0031007D002E00004D540043005000200063006F006E006E00650063007400200074006F0020007B0030007D003A00340034003300200077006100730020007300750063006300650073007300660075006C002E000080AF540043005000200063006F006E006E00650063007400200074006F0020007B0030007D003A0034003400330020006600610069006C0065006400200062006500630061007500730065002000740068006500720065002000770065007200650020006E006F0020006C0069007300740065006E00650072002E00200048006F00770065007600650072002000740068006500200070006F007200740020006900730020006F00700065006E002E00004F540043005000200063006F006E006E00650063007400200074006F0020007B0030007D003A0034003400330020006600610069006C00650064002000770069007400680020007B0031007D002E0000337B0030007D002F0063006800650063006B00740065007300740062006C006F0062005F007B0031007D003F007B0032007D00001D79007900790079004D004D0064005F00480048006D006D00730073000007500055005400003374006500780074002F0070006C00610069006E003B00200063006800610072007300650074003D005500540046002D003800011D78002D006D0073002D0062006C006F0062002D007400790070006500011342006C006F0063006B0042006C006F006200001978002D006D0073002D00760065007200730069006F006E00011532003000320030002D00300034002D0030003800011378002D006D0073002D00640061007400650001809350007500740020007200650071007500650073007400200074006F0020006100630063006F0075006E00740020007B0030007D002000720065007400750072006E006500640020007B0031007D002E0020004400650073006300720069007000740069006F006E003A0020007B0032007D003B00200052006500730070006F006E00730065003A0020007B0033007D003B0000808D50007500740020007200650071007500650073007400200074006F0020006100630063006F0075006E00740020007B0030007D0020007400680072006F007700200061006E00200065007800630065007000740069006F006E0020007B0031007D002E0020004800740074007000200072006500730070006F006E00730065003A0020007B0032007D002E0000C46FF3A0D99C0E4CAB75DB407A264A7600042001010803200001052001011111490729151225010E122902020E0E122D080E12311D123508123502123902123D1241123D02124502123902123D020E1249114D1251125512590E125D0E12510212551259151161010E0E05151225010E0320000E042001010E05200101130007000202122912290320000802060E05000112310E0520001D12350600030E1C1C1C0600030E0E1C1C0500020E0E1C05200112410E04200011790B200301117D118081118085052002010E0803200002040000114D0420010E0E0700040E0E1C1C1C05000112490E042001010A05200012808D052002010E0E052000128095040001020E05000112550E04000012550520001280990820020112809912550520001180A10600020E0E1D1C08200015116101130005151161010E04200013000500001280AD08B77A5C561934E08909000301111D111D11210801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000701000000000401000000000000000000001577726100000000020000001C0100005436000054180000525344537A206D59F3E331489942792BDA49215F01000000433A5C55736572735C64656A616E64755C736F757263655C7265706F735C436865636B537472675C546F6F6C6B69745C6F626A5C44656275675C546F6F6C6B69742E7064620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000983700000000000000000000B2370000002000000000000000000000000000000000000000000000A4370000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF2500200010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000440200000000000000000000440234000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000000000000000000000000000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004A4010000010053007400720069006E006700460069006C00650049006E0066006F0000008001000001003000300030003000300034006200300000002C0002000100460069006C0065004400650073006300720069007000740069006F006E000000000020000000300008000100460069006C006500560065007200730069006F006E000000000030002E0030002E0030002E003000000038000C00010049006E007400650072006E0061006C004E0061006D006500000054006F006F006C006B00690074002E0064006C006C0000002800020001004C006500670061006C0043006F00700079007200690067006800740000002000000040000C0001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000054006F006F006C006B00690074002E0064006C006C000000340008000100500072006F006400750063007400560065007200730069006F006E00000030002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000030002E0030002E0030002E00300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000C43700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000);
EXEC sp_add_trusted_assembly @bytes,
N'SqlManagedInstanceToolkit, version=0.0.0.0, culture=neutral, publickeytoken=null, processorarchitecture=msil';

--DROP ASSEMBLY [SqlManagedInstanceToolkit]
CREATE ASSEMBLY [SqlManagedInstanceToolkit]
FROM 0x4D5A90000300000004000000FFFF0000B800000000000000400000000000000000000000000000000000000000000000000000000000000000000000800000000E1FBA0E00B409CD21B8014CCD21546869732070726F6772616D2063616E6E6F742062652072756E20696E20444F53206D6F64652E0D0D0A2400000000000000504500004C010300157772610000000000000000E00022200B013000001800000006000000000000C2370000002000000040000000000010002000000002000004000000000000000600000000000000008000000002000000000000030060850000100000100000000010000010000000000000100000000000000000000000703700004F00000000400000A002000000000000000000000000000000000000006000000C000000383600001C0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000080000000000000000000000082000004800000000000000000000002E74657874000000C8170000002000000018000000020000000000000000000000000000200000602E72737263000000A00200000040000000040000001A0000000000000000000000000000400000402E72656C6F6300000C0000000060000000020000001E00000000000000000000000000004000004200000000000000000000000000000000A4370000000000004800000002000500C02500007810000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001B300600CD0400000100001100730500000A0A140B000F00280600000A730700000A0B00DE1126000672010000706F0800000A0000DE000714280900000A2C12076F0A00000A20BB010000FE0116FE012B01160C082C0E000672370000706F0800000A00000714280900000A0D09392804000000076F0B00000A1304141305001613077E0C00000A13081104280D00000A13090011096F0E00000A130A16130B2B3A110A110B9A130C001108110C7263000070280F00000A13081107251758130716FE01130D110D2C0B00110C6F1000000A13050000110B1758130B110B110A8E6932BE06726700007011041108281100000A6F0800000A0000DE72130E00110E6F1200000A20F92A0000FE01130F110F2C17000672C70000701104281300000A6F0800000A00002B21000672070100701104110E6F1200000A8C1D000001281100000A6F0800000A000000DE2013100006726B010070110411106F1400000A281100000A6F0800000A0000DE00731500000A130600110611046F1600000A13110672CB010070110411116F1700000A8C1E000001281100000A6F0800000A0000DE2013120006720D020070110411126F1400000A281100000A6F0800000A0000DE00110514FE031313111339AE000000000018171C731800000A13141114110520BB0100006F1900000A0011146F1A00000A131511152C15000672590200701104281300000A6F0800000A000000DE6D13160011166F1200000A204D270000FE01131711172C17000672A70200701104281300000A6F0800000A00002B1C00067258030070110411166F1400000A281100000A6F0800000A000000DE20131800067258030070110411186F1400000A281100000A6F0800000A0000DE00000F02281B00000A13191119390B0200000072A80300700F00280600000A281C00000A131C121C72DC030070281D00000A038C07000001281E00000A131A111A281F00000A131B111B72FA0300706F2000000A00111B72020400706F2100000A00111B166A6F2200000A00111B6F2300000A723604007072540400706F2400000A00111B6F2300000A726804007072820400706F2400000A00111B6F2300000A7298040070281C00000A131C121C282500000A6F2400000A0000111B6F2600000A7414000001131D00111D6F2700000A282800000A2D0E111D6F2700000A282900000A2B05282A00000A131E111D6F2B00000A111E732C00000A131F00111F2D03142B07111F6F2D00000A13200672AC0400701A8D0500000125160F00280600000AA22517111D6F2E00000A8C28000001A22518111D6F2F00000AA225191120A2283000000A6F0800000A0000DE0D111F2C08111F6F3100000A00DC00DE0D111D2C08111D6F3100000A00DC00DDA90000001321007E0C00000A132211216F3200000A74140000011323112314FE03132411242C620011236F2700000A282800000A2D0E11236F2700000A282900000A2B05282A00000A132511236F2B00000A1125732C00000A13260011262D077E0C00000A2B0711266F2D00000A132200DE0D11262C0811266F3100000A00DC11236F3300000A00000672410500700F00280600000A11216F1400000A1122281E00000A6F0800000A0000DE00000000066F3400000A13272B181227283500000A132800283600000A11286F3700000A00001227283800000A2DDFDE0F1227FE160200001B6F3100000A00DC2A0000000188000000000900111A001119000001000073007DF000520E000001000073007D4201200F000001000069012E9701200F0000010000C6013F05024D0E0000010000C6013F5202200F00000102006E0353C1030D0000000002003A0397D1030D0000000002003B041853040D0000000000002B03B9E403A9170000010200980425BD040F000000002202283900000A002A00000042534A4201000100000000000C00000076342E302E33303331390000000005006C00000064030000237E0000D00300004805000023537472696E67730000000018090000D005000023555300E80E0000100000002347554944000000F80E00008001000023426C6F620000000000000002000001471502080900000000FA013300160000010000002B000000020000000200000003000000390000000400000001000000020000000100000003000000000009020100000000000600870183030600A701830306005D0151030F00A30300000600160430020A00710122030A00E001B2030A003702B2030600010040000E00050230020E00CF014B020E00F10425040E00D70325040E00D902E1030600DF0230020E00E7044B020E004104E1030E00860425040600EA0030020E00390125040600D701B70406000A0321000E00A70225042700400300000E00C60230020600EC0130020E00C70325040600B40264030600080030020E00F4034B020E00D904E1030E001101E1030E000401E1030E008A0425040E00930225040E007F026D000E003D0125040600200221000600170321000E00C30025040600DE0030020A00C30422030A00FC002203000000000E0000000000010001000100100048040000150001000100502000000000960018053D010100B4250000000086184B0306000400000001006E0400000200420200000300690209004B03010011004B03060019004B030A0031004B0306000C004B0306003900C501600051004B0364000C005B00690051000A056F0051007D0477005100A5046000D10041057B00D900FD047E00610095048400D10008048A002900EA016000D1000F049100E100A6007700D1000F0498007900D200600059004B030600590096009E008100FD03A40089004B03A90089001D04B50089005F00BB004100C501BB009900CE04BF009900EA01C400D1000F04C9001101FF02D10011019B00640011011C0164001101F301D7001101CB03DC0021012702E2009900EA01600011014901E800A10030046000D1003905EE00A900D401F300A9001700F90029011502FE00B1004B03040139018C006000A100B4000D01A100E9026000D1000F041301490155010600B9002C01E8002901550106000C003D031A011400620429015101F3002E015901960064001400AE04BB0029004B0306002000230078012E000B0047012E00130050012E001B006F0110005A0023010480000000000000000000000000000000005A040000040000000000000000000000340137000000000004000000000000000000000034012B0000000000040000000000000000000000340130020000000000000000004C697374603100496E743332003C4D6F64756C653E006765745F41534349490053797374656D2E494F0053797374656D2E44617461006D73636F726C69620053797374656D2E436F6C6C656374696F6E732E47656E6572696300416464006765745F436F6E6E65637465640053797374656D2E436F6C6C656374696F6E732E5370656369616C697A65640052656164546F456E640053656E64007365745F4D6574686F64006765745F4572726F72436F6465006765745F537461747573436F64650048747470537461747573436F6465006765745F4D6573736167650049446973706F7361626C65004461746554696D65006765745F506970650053716C506970650050726F746F636F6C5479706500536F636B657454797065007365745F436F6E74656E7454797065006765745F526573706F6E73650048747470576562526573706F6E736500476574526573706F6E736500446973706F73650044656275676761626C654174747269627574650053716C50726F63656475726541747472696275746500436F6D70696C6174696F6E52656C61786174696F6E734174747269627574650052756E74696D65436F6D7061746962696C697479417474726962757465006765745F56616C75650050696E6700476574456E636F64696E670053716C537472696E6700546F537472696E67007365745F436F6E74656E744C656E6774680055726900546F6F6C6B69742E646C6C00476574526573706F6E736553747265616D007365745F4974656D0053797374656D0053716C426F6F6C65616E00736173546F6B656E0053797374656D2E4E65742E4E6574776F726B496E666F726D6174696F6E006578656375746557726974654F7065726174696F6E004E616D6556616C7565436F6C6C656374696F6E00576562486561646572436F6C6C656374696F6E00576562457863657074696F6E0045787465726E616C457863657074696F6E00557269466F726D6174457863657074696F6E00536F636B6574457863657074696F6E006765745F5374617475734465736372697074696F6E00437265617465487474700053747265616D5265616465720054657874526561646572004D6963726F736F66742E53716C5365727665722E53657276657200476574456E756D657261746F72002E63746F720053797374656D2E446961676E6F73746963730053797374656D2E52756E74696D652E496E7465726F7053657276696365730053797374656D2E52756E74696D652E436F6D70696C6572536572766963657300446562756767696E674D6F6465730053797374656D2E446174612E53716C547970657300446E73006765745F48656164657273004950416464726573730053797374656D2E4E65742E536F636B657473004950537461747573006765745F53746174757300436F6E63617400466F726D6174004F626A65637400436F6E6E6563740053797374656D2E4E6574006765745F43686172616374657253657400536F636B65740053716C4D616E61676564496E7374616E6365546F6F6C6B6974006765745F43757272656E740073746F726167654163636F756E74006765745F506F7274004874747057656252657175657374006765745F416464726573734C697374006765745F486F7374004D6F76654E6578740053797374656D2E546578740053716C436F6E74657874006765745F5574634E6F77004164647265737346616D696C790050696E675265706C79004950486F7374456E74727900476574486F7374456E747279006F705F496E657175616C69747900436865636B53746F726167654163636F756E744163636573736962696C6974790049734E756C6C4F72456D70747900000035550052004900200069007300200069006E0020007400680065002000770072006F006E006700200066006F0072006D0061007400002B4F006E006C007900200068007400740070007300200069007300200061006C006C006F0077006500640000033B00005F48006F00730074006E0061006D00650020007B0030007D00200077006100730020007300750063006300650073007300660075006C006C00790020007200650073006F006C00760065006400200074006F003A0020007B0031007D002E00003F48006F00730074006E0061006D00650020007B0030007D00200063006F0075006C00640020006E006F007400200062006500200066006F0075006E006400006344004E00530020007200650073006F006C007500740069006F006E0020006F00660020007B0030007D0020007400680072006F0077006E00200066006F006C006C006F00770069006E00670020006500720072006F00720020007B0031007D002E00005F44004E00530020007200650073006F006C007500740069006F006E0020006F00660020007B0030007D0020007400680072006F0077006E00200066006F006C006C006F00770069006E006700200065007800630020007B0031007D002E000041500049004E004700200074006F0020007B0030007D0020007200650070006F007200740065006400200073007400610074007500730020007B0031007D002E00004B500049004E004700200074006F0020007B0030007D0020007400680072006F0077006E00200066006F006C006C006F00770069006E006700200065007800630020007B0031007D002E00004D540043005000200063006F006E006E00650063007400200074006F0020007B0030007D003A00340034003300200077006100730020007300750063006300650073007300660075006C002E000080AF540043005000200063006F006E006E00650063007400200074006F0020007B0030007D003A0034003400330020006600610069006C0065006400200062006500630061007500730065002000740068006500720065002000770065007200650020006E006F0020006C0069007300740065006E00650072002E00200048006F00770065007600650072002000740068006500200070006F007200740020006900730020006F00700065006E002E00004F540043005000200063006F006E006E00650063007400200074006F0020007B0030007D003A0034003400330020006600610069006C00650064002000770069007400680020007B0031007D002E0000337B0030007D002F0063006800650063006B00740065007300740062006C006F0062005F007B0031007D003F007B0032007D00001D79007900790079004D004D0064005F00480048006D006D00730073000007500055005400003374006500780074002F0070006C00610069006E003B00200063006800610072007300650074003D005500540046002D003800011D78002D006D0073002D0062006C006F0062002D007400790070006500011342006C006F0063006B0042006C006F006200001978002D006D0073002D00760065007200730069006F006E00011532003000320030002D00300034002D0030003800011378002D006D0073002D00640061007400650001809350007500740020007200650071007500650073007400200074006F0020006100630063006F0075006E00740020007B0030007D002000720065007400750072006E006500640020007B0031007D002E0020004400650073006300720069007000740069006F006E003A0020007B0032007D003B00200052006500730070006F006E00730065003A0020007B0033007D003B0000808D50007500740020007200650071007500650073007400200074006F0020006100630063006F0075006E00740020007B0030007D0020007400680072006F007700200061006E00200065007800630065007000740069006F006E0020007B0031007D002E0020004800740074007000200072006500730070006F006E00730065003A0020007B0032007D002E0000C46FF3A0D99C0E4CAB75DB407A264A7600042001010803200001052001011111490729151225010E122902020E0E122D080E12311D123508123502123902123D1241123D02124502123902123D020E1249114D1251125512590E125D0E12510212551259151161010E0E05151225010E0320000E042001010E05200101130007000202122912290320000802060E05000112310E0520001D12350600030E1C1C1C0600030E0E1C1C0500020E0E1C05200112410E04200011790B200301117D118081118085052002010E0803200002040000114D0420010E0E0700040E0E1C1C1C05000112490E042001010A05200012808D052002010E0E052000128095040001020E05000112550E04000012550520001280990820020112809912550520001180A10600020E0E1D1C08200015116101130005151161010E04200013000500001280AD08B77A5C561934E08909000301111D111D11210801000800000000001E01000100540216577261704E6F6E457863657074696F6E5468726F7773010801000701000000000401000000000000000000001577726100000000020000001C0100005436000054180000525344537A206D59F3E331489942792BDA49215F01000000433A5C55736572735C64656A616E64755C736F757263655C7265706F735C436865636B537472675C546F6F6C6B69745C6F626A5C44656275675C546F6F6C6B69742E7064620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000983700000000000000000000B2370000002000000000000000000000000000000000000000000000A4370000000000000000000000005F436F72446C6C4D61696E006D73636F7265652E646C6C0000000000FF2500200010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100100000001800008000000000000000000000000000000100010000003000008000000000000000000000000000000100000000004800000058400000440200000000000000000000440234000000560053005F00560045005200530049004F004E005F0049004E0046004F0000000000BD04EFFE00000100000000000000000000000000000000003F000000000000000400000002000000000000000000000000000000440000000100560061007200460069006C00650049006E0066006F00000000002400040000005400720061006E0073006C006100740069006F006E00000000000000B004A4010000010053007400720069006E006700460069006C00650049006E0066006F0000008001000001003000300030003000300034006200300000002C0002000100460069006C0065004400650073006300720069007000740069006F006E000000000020000000300008000100460069006C006500560065007200730069006F006E000000000030002E0030002E0030002E003000000038000C00010049006E007400650072006E0061006C004E0061006D006500000054006F006F006C006B00690074002E0064006C006C0000002800020001004C006500670061006C0043006F00700079007200690067006800740000002000000040000C0001004F0072006900670069006E0061006C00460069006C0065006E0061006D006500000054006F006F006C006B00690074002E0064006C006C000000340008000100500072006F006400750063007400560065007200730069006F006E00000030002E0030002E0030002E003000000038000800010041007300730065006D0062006C0079002000560065007200730069006F006E00000030002E0030002E0030002E00300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000C000000C43700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000 WITH PERMISSION_SET = EXTERNAL_ACCESS;

--DROP PROCEDURE dbo.SqlManagedInstanceToolkit_CheckStorageAccountAccessibility
CREATE PROCEDURE dbo.SqlManagedInstanceToolkit_CheckStorageAccountAccessibility (@strg AS NVARCHAR(MAX), @sas AS NVARCHAR(MAX), @write BIT) AS EXTERNAL NAME [SqlManagedInstanceToolkit].[SqlManagedInstanceToolkit].[CheckStorageAccountAccessibility];

DECLARE @strgToTest NVARCHAR(MAX) = '<your strg>'
DECLARE @sasToTest NVARCHAR(MAX) = '<your sas>'
DECLARE @writeToNewFile BIT = 1
EXEC dbo.SqlManagedInstanceToolkit_CheckStorageAccountAccessibility @strgToTest, @sasToTest, @writeToNewFile
